@using WebMarketplace.Models;
@using Marketplace.Dependencies;

//TODO Titles for all pages

@{
    Layout = "~/Pages/Layout/_BasicLayout.cshtml";

    if (IsPost)
    {
        var title = Request["title"];
        var priceProduct = Request["priceProduct"];
        int price;
        if (int.TryParse(priceProduct, out price))
        { }
        {
            DependencyResolver.Instance.ProductsLogic.AddProduct(title, price);
            <div class="col-sm-3 my-1">
                <div class="alert alert-success" role="alert">
                    Товар успешно добавлен.
                </div>
            </div>

        }
    }

}


<form method="post">
    <div class="form-group">
        <div class="col-sm-3 my-1">
            <label for="titleOfNewProduct">Название товара</label>
            <input name="title" type="text" class="form-control" id="titleOfNewProduct" placeholder="Название товара">
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-3 my-1">
            <label for="priceOfNewProduct">Password</label>
            <input name="priceProduct" type="text" class="form-control" id="priceOfNewProduct" placeholder="Цена" value="0">
        </div>
    </div>
    <button type="submit" class="btn btn-primary">Добавиь</button>
</form>